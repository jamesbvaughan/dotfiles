[colors]
red = ${xrdb:color1:#f00}
green = ${xrdb:color2:#0f0}
yellow = ${xrdb:color3:#ffa}
blue = ${xrdb:color4:#00f}
magenta = ${xrdb:color5:#faa}
cyan = ${xrdb:color6:#aaf}
orange= ${xrdb:color9:#ffa}
violet = ${xrdb:color13:#faf}

[bar/jamesbar]
monitor = ${env:MONITOR:DP-2}
monitor-fallback = eDP-1
enable-ipc = true
height = 40
background = ${xrdb:color8:#222}
foreground = ${xrdb:color7:#ddd}
line-size = 5
padding = 1
font-0 = DejaVuSansMono:pixelsize=20;3
font-1 = DejaVuSansMono Nerd Font Mono:pixelsize=26;3
modules-left = workspaces xwindow
modules-right = music cpu ram fs card volume backlight battery time
separator = " "
tray-position = right
tray-maxsize = 100

[module/workspaces]
type = internal/xworkspaces
format-underline = ${colors.magenta}
label-active = "  "
label-empty = "  "
label-occupied = "  "
label-urgent = "  "

[module/xwindow]
type = internal/xwindow
format-underline = ${colors.yellow}
label = %title:0:25:…%

[module/music]
type = custom/script
format-underline = ${colors.violet}
exec = ~/.config/polybar/player-mpris-tail.py
tail = true
click-left = ~/.config/polybar/player-ctrl.sh play-pause
label = %output:0:37:…%

[module/cpu]
type = internal/cpu
interval = 3
format-underline = ${colors.red}
format = <ramp-load> <label>
label = "%percentage:2%%"
ramp-load-0 = 
ramp-load-1 = 
ramp-load-2 = 
ramp-load-3 = 
ramp-load-4 = 

[module/ram]
type = internal/memory
interval = 3
format-underline = ${colors.green}
label = " %percentage_used%%"

[module/fs]
type = internal/fs
mount-0 = /
format-mounted-underline = ${colors.yellow}
label-mounted = " %percentage_used:2%%"

[module/card]
inherit = module/fs
mount-0 = /media/james/card
format-mounted-underline = ${colors.blue}

[module/volume]
type = custom/script
format-underline = ${colors.magenta}
exec = ~/.config/polybar/pulseaudio-tail.sh
tail = true
click-right = exec pavucontrol &
click-left = ~/.config/polybar/pulseaudio-tail.sh --mute
scroll-up = ~/.config/polybar/pulseaudio-tail.sh --down
scroll-down = ~/.config/polybar/pulseaudio-tail.sh --up

[module/backlight]
type = internal/backlight
card = intel_backlight
format-underline = ${colors.cyan}
label = " %percentage:2%%"

[module/battery]
type = internal/battery
format-discharging-underline = ${colors.orange}
format-charging-underline = ${self.format-discharging-underline}
format-discharging = <ramp-capacity> <label-discharging>
format-charging = <animation-charging> <label-charging>
label-discharging = "%percentage:2%%"
label-charging = ${self.label-discharging}
label-full = " %percentage:2%%"
ramp-capacity-0 = ""
ramp-capacity-1 = ""
ramp-capacity-2 = ""
ramp-capacity-3 = ""
ramp-capacity-4 = ""
animation-charging-0 = ${self.ramp-capacity-0}
animation-charging-1 = ${self.ramp-capacity-1}
animation-charging-2 = ${self.ramp-capacity-2}
animation-charging-3 = ${self.ramp-capacity-3}
animation-charging-4 = ${self.ramp-capacity-4}

[module/time]
type = internal/date
interval = 5
format-underline = ${colors.blue}
time = %H:%M
label = "%time%"

[module/kdeconnect]
type = custom/script
exec = ~/.config/polybar/kdeconnect.sh
exec-if = pgrep -x kdeconnectd
interval = 5

; vim:ft=dosini
